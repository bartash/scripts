if [ -z "$DISPLAY" ]; then
  # for cloudcat machines
  export DISPLAY=:3
fi

# run newest clion
CLION=`ls -td ~/bin/clion-* | head -1`

if [ -z "$CLION" ];
then
   echo no clion in bin
   exit 1
fi

if [ "$#" -ge 5 ]
then
    # prevent 'cl *' which really sucks
	echo "$0: too many arguments, are you sure?"
	exit 1;
fi

echo running $CLION

# on gce I also had 
# . $IMPALA_HOME/bin/set-classpath.sh

# allow clion diff file1 file2
$CLION/bin/clion.sh $* |& grep -v 'Everything has changed'

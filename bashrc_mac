# mac/hive specific stuff

# https://stackoverflow.com/questions/30247603
alias amend='EDITOR="gvim -f" git commit --amend'

# stop errors like "readlink: illegal option -- f"
# export SPARK_HOME=foo
export HIVE_SKIP_SPARK_ASSEMBLY=true
export PATH="/usr/local/opt/protobuf@2.5/bin:$PATH"

export AAHADOOP_VERSION=2.8.0
alias hstart="/usr/local/Cellar/hadoop/${AAHADOOP_VERSION}/sbin/start-dfs.sh;/usr/local/Cellar/hadoop/${AAHADOOP_VERSION}/sbin/start-yarn.sh"
alias hstop="/usr/local/Cellar/hadoop/${AAHADOOP_VERSION}/sbin/stop-yarn.sh;/usr/local/Cellar/hadoop/${AAHADOOP_VERSION}/sbin/stop-dfs.sh"


# after brew install findutils
alias find=gfind

# visual diff
alias vdiff=gvimdiff

alias bl='./beeline -u jdbc:hive2://localhost:10000/default -n asherman -p hive'


# setup to run yetus
# https://cwiki.apache.org/confluence/display/Hive/Running+Yetus
export FINDBUGS_HOME=~/bin/findbugs-3.0.1/

# make patch as described in https://wiki.cloudera.com/display/~vihang/Hive+Developer+Environment+Setup
alias make_patch='git show --full-index --no-prefix'

#	curl http://github.mtv.cloudera.com/raw/CDH/cdh/cdh6.x/gbn-m2-settings.xml > gbn-m2-settings.xml
#
#	To build your CDH component against a specific
#	Global Build Number (GBN), use this Maven
#	settings file with "mvn -s gbn-m2-settings.xml" and
#	the environment variable CDH_GBN=... set.
#	
#	For example, to build against the latest build,
#	
#	$ export CDH_GBN=$(curl 'http://builddb.infra.cloudera.com:8080/query?product=cdh&user=jenkins&version=6.x&tag=official')
#	$ mvn -s gbn-m2-settings.xml install -DskipTests
export CDH_GBN=$(curl 'http://builddb.infra.cloudera.com:8080/query?product=cdh&user=jenkins&version=6.x&tag=official')

# use python
export PATH="/usr/local/opt/python/libexec/bin:$PATH"

# not setting this here because paranoia
# export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home
